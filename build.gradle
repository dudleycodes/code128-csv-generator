plugins {
    id("idea")
    id("java")
}

group = "codes.dudley"
version = "SNAPSHOT"

tasks.register('bootRun', JavaExec) {
    group = "Application"
    description = "Interactively run the generator."
    classpath = sourceSets.main.runtimeClasspath
    mainClass = "Csv128Generator"
    standardInput = System.in
    standardOutput = System.out
}

configurations {
    compileOnly {
        extendsFrom annotationProcessor
    }
}

java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(19)
        vendor = JvmVendorSpec.ADOPTIUM
    }
}

repositories {
    mavenCentral()
}

tasks.test {
    useJUnitPlatform()
}

tasks.withType(JavaCompile).configureEach {
    options.compilerArgs << "-Xlint:all,-serial,-processing"
    options.encoding = 'UTF-8'
}

dependencies {
    compileOnly ("org.junit.jupiter:junit-jupiter-api:5.9.3")
    testImplementation("org.junit.jupiter:junit-jupiter:5.9.3")
}
